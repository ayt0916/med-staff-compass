<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Med-Staff Compass (MVP)</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <header>
        <h1>Med-Staff Compass (MVP)</h1>
        <p>医療スタッフのための統合ダッシュボード</p>
    </header>

    <main>
        <div class="user-info">
            <p>ようこそ、<strong>田中 看護師</strong> さん (A病棟)</p>
            <button id="showSurveyBtn">モジュール2: 心理サーベイに回答</button>
        </div>

        <div class="dashboard-grid">
            
            <div class="chart-container" id="physical-load">
                <h2>モジュール1: 物理的負荷 (今月)</h2>
                <p>業務の効率化が、あなたの「管理的負荷」を削減できています。</p>
                <canvas id="physicalLoadChart"></canvas>
                <div class="toggle-buttons">
                    <button id="toggleDataBtn" class="toggle-btn">先月の負荷と比較</button>
                </div>
            </div>

            <div class="chart-container" id="psychological-load">
                <h2>モジュール3: 統合ダッシュボード (今週)</h2>
                <p>サーベイに回答すると、あなたの心理的ウェルビーイングが分析されます。</p>
                <canvas id="psychologicalLoadChart"></canvas>
            </div>

        </div>
    </main>

    <div id="surveyModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>モジュール2: ウィークリー・パルスサーベイ</h2>
            <p>あなたの直近1週間の状態について、匿名で回答してください。</p>
            
            <form id="pulseSurveyForm">
                <div class="form-group">
                    <label for="q1">Q1: 職場で十分なサポートを得られていると感じますか？</label>
                    <select id="q1" name="q1">
                        <option value="5">5: 強くそう思う</option>
                        <option value="4">4: そう思う</option>
                        <option value="3" selected>3: どちらでもない</option>
                        <option value="2">2: そう思わない</option>
                        <option value="1">1: 全くそう思わない</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="q2">Q2: 自分の仕事が正当に評価されていると感じますか？</label>
                    <select id="q2" name="q2">
                        <option value="5">5: 強くそう思う</option>
                        <option value="4">4: そう思う</option>
                        <option value="3" selected>3: どちらでもない</option>
                        <option value="2">2: そう思わない</option>
                        <option value="1">1: 全くそう思わない</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="q3">Q3: 業務において、心はどの程度平穏でしたか？</label>
                    <select id="q3" name="q3">
                        <option value="5">5: 非常に平穏だった</option>
                        <option value="4">4: 平穏だった</option>
                        <option value="3" selected>3: どちらでもない</option>
                        <option value="2">2: ストレスを感じた</option>
                        <option value="1">1: 非常にストレスだった</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-btn">回答を送信</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
